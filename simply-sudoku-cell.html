<div class = "main">
  <div class = "cell">#</div>
  <div class = "dial"></div>
</div>

<style>
* {
  padding: 0; margin: 0;
}
body {
  width: 100vw; height: 100vh;
  display: grid;
  align-items: center;
  justify-items: center;
}

.main {
  height: 30px;
  width: 30px;
  display: grid;
  align-items: center;
  justify-items: center;
}

.cell {
  width: 100%;
  height: 100%;
  background-color: cyan;
  grid-area: 1 / 1 / 2 / 2;
}

.dial {
  background: url("./assets/dial.svg");
  background-size: 100% 100%;
  width: 300%;
  height: 300%;
  z-index: 100;
  grid-area: 1 / 1 / 2 / 2;
  visibility: hidden;
  cursor: pointer;
}
.
</style>

<script>
  const cell = document.querySelector('.cell')
  const dial = document.querySelector('.dial')
  cell.addEventListener('click', (ev) => {
    
    dial.style.visibility = 'visible'
  })
  dial.addEventListener('click', (ev) => {
    let x = ev.offsetX - ev.target.clientWidth/2
    let y = ev.offsetY - ev.target.clientHeight/2
    /*let r = Math.atan2(y, x) + Math.PI / 2 + (Math.PI / 9)
    let e = 1
    if (r < 0) {
      r += Math.PI
      e += 4
    }
    
    for (let i = 0; i <= Math.PI; i += Math.PI / 4.5) {
      if (r >= i && r <= i + Math.PI / 4.5) {
        console.log(e)
      }
     e++
    }*/
    const t = Math.PI*2
    let r = Math.atan2(y, x)
    e = Math.ceil(((r + (t/4 + t/9/2) + t) % t) / (t/9))
    
    console.log('HERE IT IS : X:' + x + '  Y:' + y, e)
    })
</script>
